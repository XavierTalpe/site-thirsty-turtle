(function(d){d.fn.instagram=function(f){function h(a){var b=null!=a.caption?a.caption.text:"";return d("<figure>").addClass("instagram-post").attr("id",a.id).append(d("<a>").addClass("instagram-link").attr("target","_blank").attr("href",a.images.standard_resolution.url).attr("title",b).attr("rel","instagram-group").append(d("<img>").attr("alt",b).addClass("instagram-image").attr("src",a.images.low_resolution.url))).append(d("<figcaption>").append(b))}var g=this,a={hash:null,userId:null,locationId:null,
search:null,accessToken:null,clientId:null,show:null,onLoad:null,onComplete:null,maxId:null,minId:null,next_url:null};f&&d.extend(a,f);null!=a.onLoad&&"function"==typeof a.onLoad&&a.onLoad();d.ajax({type:"GET",dataType:"jsonp",cache:!1,url:function(){var c="https://api.instagram.com/v1",b={};if(null!=a.next_url)return a.next_url;null!=a.hash?c+="/tags/"+a.hash+"/media/recent":null!=a.search?(c+="/media/search",b.lat=a.search.lat,b.lng=a.search.lng,null!=a.search.max_timestamp&&(b.max_timestamp=a.search.max_timestamp),
null!=a.search.min_timestamp&&(b.min_timestamp=a.search.min_timestamp),null!=a.search.distance&&(b.distance=a.search.distance)):c=null!=a.userId?c+("/users/"+a.userId+"/media/recent"):null!=a.locationId?c+("/locations/"+a.locationId+"/media/recent"):c+"/media/popular";null!=a.accessToken&&(b.access_token=a.accessToken);null!=a.clientId&&(b.client_id=a.clientId);null!=a.minId&&(b.min_id=a.minId);null!=a.maxId&&(b.max_id=a.maxId);null!=a.show&&(b.count=a.show);c+="?"+d.param(b);console.log(c);return c}(),
success:function(c){var b="undefined"!=typeof c.data?c.data.length:0,b=null!=a.show&&a.show<b?a.show:b;if(0<b)for(var e=0;e<b;e++)g.append(h(c.data[e]));else g.append(d("<div>").addClass("instagram-placeholder").attr("id","empty").append(d("<p>").html("No photos for this query")));null!=a.onComplete&&"function"==typeof a.onComplete&&a.onComplete(c.data,c)}});return this}})(jQuery);